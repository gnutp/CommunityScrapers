name: HouseOfGord
sceneByURL:
  - action: scrapeXPath
    url:
      - houseofgord.com/d
    scraper: sceneScraper

sceneByName:
  action: script
  script:
    - python
    - sitemap.py
    # uses local version of sitemap due to cloudflare block
    - https://houseofgord.com
    - d/
    - scene-by-name

sceneByQueryFragment:
  action: scrapeXPath
  queryURL: "{url}"
  scraper: sceneScraper

xPathScrapers:
  sceneScraper:
    scene:
      Title:
        selector: //head/title
        postProcess:
          - replace:
              - regex: "\\s*\\| House of Gord$"
                with: ""
      Date:
        selector: //div[contains(concat(" ", normalize-space(@class), " "), "preview_feature_date")][contains(text(),"Video")]/text()|//div[@class="preview_feature_date"][1]/text()
        postProcess:
          - replace:
              - regex: .*\s+added\s+(.*)
                with: $1
          - parseDate: 02 Jan 2006
      Details:
        selector: //p[@class="preview_description"]/text()|//div[@class="detail_description"]//p/text()
        concat: "\n\n"
      Performers:
        Name:
          selector: //div[@class="preview_facets_listing"]/a[not(preceding-sibling::br)]/text()
      Tags:
        Name:
          selector: //div[@class="preview_facets_listing"]/a[preceding-sibling::br]/text()
      Studio:
        Name:
          fixed: House of Gord
      Image:
        selector: //video[@id="0"]/@poster|//td[@class="previewpic_item" and @style="width:53%"][1]/img/@src|//td[@class="previewpic_item"][1]/img/@src

driver:
  useCDP: true
  cookies:
    - Cookies:
        - Name: legal_accepted2
          Domain: .houseofgord.com
          Value: yes
          Path: /
# Last Updated July 09, 2021
